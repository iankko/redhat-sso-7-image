schema_version: 1

name: "redhat-sso-7/sso73"
description: "Red Hat Single Sign-On 7.3 container image"
version: "7.3.3.GA"
from: "jboss-eap-7/eap72:7.2.3-1"
labels:
    - name: "com.redhat.component"
      value: "redhat-sso-7-sso73-container"
    - name: "org.jboss.product"
      value: "sso"
    - name: "org.jboss.product.version"
      value: "7.3.3.GA"
    - name: "org.jboss.product.sso.version"
      value: "7.3.3.GA"
envs:
    - name: "JBOSS_PRODUCT"
      value: "sso"
    - name: "JBOSS_SSO_VERSION"
      value: "7.3.3.GA"
    - name: "PRODUCT_VERSION"
      value: "7.3.3.GA"
packages:
      content_sets:
            x86_64:
                - rhel-7-server-rpms
modules:
      repositories:
          - path: modules
      install:
          - name: sso
          - name: keycloak.openshift.clients

# artifacts:
      # Set by the pipeline. Consists of the server overlay zip,
      # renamed to "keycloak-server-overlay.zip"

run:
      user: 185
      cmd:
          - "/opt/eap/bin/standalone.sh"
          - "-b"
          - "0.0.0.0"
          - "-c"
          - "standalone.xml"
osbs:
      repository:
            name: containers/redhat-sso-7
            branch: jb-sso-7.3-rhel-7
